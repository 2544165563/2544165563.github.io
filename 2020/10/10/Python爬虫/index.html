
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>requestsçˆ¬å–æ•°æ® - Hexo</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="Robotsåè®®User-agent: *
Disallow: /
å¯¹äºæ‰€æœ‰ç”¨æˆ·ï¼Œä¸å…è®¸çˆ¬å–ä»»ä½•æ•°æ®
æŸ¥çœ‹æ–¹å¼123https:&amp;#x2F;&amp;#x2F;www.bilibili.comğŸ‘‡ğŸ‘‡ğŸ‘‡ï¿½,"> 
    <meta name="author" content="John Doe"> 
    <link rel="alternative" href="atom.xml" title="Hexo" type="application/atom+xml"> 
    <link rel="icon" href="https://raw.githubusercontent.com/2544165563/2544165563.github.io/master/assets/tou.png"> 
    
    
<link rel="stylesheet" href="/css/diaspora.css">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
<meta name="generator" content="Hexo 5.2.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Hexo</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="http://example.com"></a>
    <div title="æ’­æ”¾/æš‚åœ" class="iconfont icon-play"></div>
    <h3 class="subtitle">requestsçˆ¬å–æ•°æ®</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="è·å–äºŒç»´ç " class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">requestsçˆ¬å–æ•°æ®</h1>
        <div class="stuff">
            <span>åæœˆ 10, 2020</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/python/" rel="tag">python</a></li></ul>


        </div>
        <div class="content markdown">
            <h1 id="Robotsåè®®"><a href="#Robotsåè®®" class="headerlink" title="Robotsåè®®"></a>Robotsåè®®</h1><p>User-agent: *</p>
<p>Disallow: /</p>
<p>å¯¹äºæ‰€æœ‰ç”¨æˆ·ï¼Œä¸å…è®¸çˆ¬å–ä»»ä½•æ•°æ®</p>
<h2 id="æŸ¥çœ‹æ–¹å¼"><a href="#æŸ¥çœ‹æ–¹å¼" class="headerlink" title="æŸ¥çœ‹æ–¹å¼"></a>æŸ¥çœ‹æ–¹å¼</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.bilibili.com</span><br><span class="line">ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span><br><span class="line">https:&#x2F;&#x2F;www.bilibili.com&#x2F;robots.txt</span><br></pre></td></tr></table></figure>

<h1 id="requestsçš„ä½¿ç”¨"><a href="#requestsçš„ä½¿ç”¨" class="headerlink" title="requestsçš„ä½¿ç”¨"></a>requestsçš„ä½¿ç”¨</h1><a id="more"></a>

<h2 id="å…ˆæ¥ä¸€ä¸ªä¾‹å­çœ‹ä¸€ä¸‹ä½¿ç”¨è¿‡ç¨‹"><a href="#å…ˆæ¥ä¸€ä¸ªä¾‹å­çœ‹ä¸€ä¸‹ä½¿ç”¨è¿‡ç¨‹" class="headerlink" title="å…ˆæ¥ä¸€ä¸ªä¾‹å­çœ‹ä¸€ä¸‹ä½¿ç”¨è¿‡ç¨‹"></a>å…ˆæ¥ä¸€ä¸ªä¾‹å­çœ‹ä¸€ä¸‹ä½¿ç”¨è¿‡ç¨‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> requests</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.status_code</span><br><span class="line"><span class="number">200</span>   <span class="comment">#çŠ¶æ€ç ï¼Œ200è¡¨æ˜æˆåŠŸ</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line"><span class="string">&#x27;&lt;!DOCTYPE html&gt;\r\n&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=http://s1.bdstatic.com/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>é€šè¿‡getè·å–webé¡µé¢æºä»£ç å’Œå‘é€è¯·æ±‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">page_text &#x3D; requests.get(url,params,headers)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡postå‘é€è¯·æ±‚å¹¶è·å–å“åº”å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response &#x3D; requests.post(url,data,headers)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœè¿”å›jsonå­—ç¬¦ä¸²,ç”¨.json()</span><br><span class="line">è¿”å›æ™®é€šå­—ç¬¦ä¸²,ç”¨.text()</span><br></pre></td></tr></table></figure>



<p>ä»¥ä¸‹å†…å®¹å·²ç»å¿˜è®°ã€‚ã€‚ã€‚</p>
<p>ä¸»è¦æ–¹æ³•ï¼Œä¹Ÿå°±ç”¨åˆ°getã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">requests.request()  <span class="comment">#æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¯æ’‘ä¸€ä¸‹å„ç§æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">requests.get()    <span class="comment">#è·å–HTMLç½‘é¡µ</span></span><br><span class="line"></span><br><span class="line">requests.head()   <span class="comment">#è·å–HTMLç½‘é¡µå¤´ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">requests.post()   <span class="comment">#ä¸æ”¹å˜åŸæ•°æ®æ·»åŠ æ–°æ•°æ®</span></span><br><span class="line"></span><br><span class="line">requests.put()    <span class="comment">#è¦†ç›–åŸæ•°æ®æ·»åŠ æ•°æ®</span></span><br><span class="line"></span><br><span class="line">requests.patch()    <span class="comment">#å±€éƒ¨ä¿®æ”¹è¯·æ±‚</span></span><br><span class="line"></span><br><span class="line">requests.delete()   <span class="comment">#åˆ é™¤è¯·æ±‚</span></span><br></pre></td></tr></table></figure>



<hr>
<p>å¯ç”¨request()æ¥æ‰§è¡Œå…¶ä»–æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨å…¶ä»–requestsåº“çš„æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">requests.request(method,url,**kwargs)</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ä¸ªå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.request(&#39;GET&#39;,url,**kwargs)</span><br><span class="line"></span><br><span class="line">#å‚æ•°</span><br><span class="line">&#39;GET&#39;  &#39;HEAD&#39;  &#39;POST&#39;  &#39;PUT&#39;  &#39;PATCH&#39;  &#39;PUT&#39;  &#39;POST&#39;  &#39;delete&#39;  &#39;OPTIONS&#39;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ç½‘å€ï¼Œç›´æ¥çœ‹ç¬¬ä¸‰ä¸ªå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">r &#x3D; requests.request(method,url,params&#x3D;kv)</span><br><span class="line"></span><br><span class="line">#å‚æ•°(å…¶ä½™ä¸»è¦æ–¹æ³•é€‚ç”¨)</span><br><span class="line">params:å­—å…¸æˆ–å­—èŠ‚åºåˆ—ï¼Œä½œä¸ºå‚æ•°å¢åŠ åˆ°è¿”å›çš„urlä¸­</span><br><span class="line">    </span><br><span class="line">data:å­—å…¸ã€å­—èŠ‚åºåˆ—æˆ–æ–‡ä»¶å¯¹è±¡ï¼Œæäº¤æ•°æ®</span><br><span class="line">    </span><br><span class="line">json:JSONæ ¼å¼çš„æ•°æ®ï¼Œæäº¤ä½¿ç”¨</span><br><span class="line">    </span><br><span class="line">headers:å­—å…¸ï¼ŒHTTPå®šåˆ¶å¤´</span><br><span class="line">    </span><br><span class="line">cookies:å­—å…¸æˆ–CookieJar,Requestä¸­çš„cookie</span><br><span class="line">    </span><br><span class="line">auth:å…ƒç»„</span><br><span class="line">    </span><br><span class="line">files:å­—å…¸ç±»å‹ï¼Œä¼ è¾“æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">timeout:è®¾å®šè¶…æ—¶æ—¶é—´ï¼Œç§’ä¸ºå•ä½</span><br><span class="line"></span><br><span class="line">proxies:å­—å…¸ç±»å‹ï¼Œè®¾å®šè®¿é—®ä»£ç†æœåŠ¡å™¨ï¼Œå¯ä»¥å¢åŠ ç™»å½•è®¤è¯</span><br><span class="line"></span><br><span class="line">allow_redirects:é‡å®šå‘,é»˜è®¤True</span><br><span class="line"></span><br><span class="line">stream:è·å–å†…å®¹ç«‹å³ä¸‹è½½ï¼Œé»˜è®¤True</span><br><span class="line"></span><br><span class="line">verify:è®¤è¯SSLè¯ä¹¦å¼€å…³ï¼Œé»˜è®¤True</span><br><span class="line"></span><br><span class="line">cert:æœ¬åœ°SSLè¯ä¹¦è·¯å¾„</span><br></pre></td></tr></table></figure>



<hr>
<p>get()æ–¹æ³•åï¼Œå¤„ç†æ•°æ®çš„ä¸€äº›æ–¹æ³•ï¼Œä¸åŠ æ‹¬å·å“Ÿ~~</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">r = requests.get(url,params=<span class="literal">None</span>,**kwargs)   </span><br><span class="line"><span class="comment">#getæ„é€ å‘æœåŠ¡å™¨è¯·æ±‚èµ„æºçš„Requestå¯¹è±¡</span></span><br><span class="line"><span class="comment">#requestsè¿”å›åŒ…å«æœåŠ¡å™¨èµ„æºçš„Responseå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">r.status_code   <span class="comment">#Httpè¯·æ±‚çš„è¿”å›çŠ¶æ€ï¼Œ200è¡¨ç¤ºè¿æ¥æˆåŠŸï¼Œ404è¡¨ç¤ºå¤±è´¥</span></span><br><span class="line"></span><br><span class="line">r.text    <span class="comment">#å“åº”å†…å®¹çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œurlå¯¹åº”çš„é¡µé¢å†…å®¹</span></span><br><span class="line"></span><br><span class="line">r.encoding   <span class="comment">#åœ¨HTTP headerä¸­çŒœæµ‹çš„å“åº”å†…å®¹ç¼–ç æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">r.apparent_encoding     <span class="comment">#ä»å†…å®¹åˆ†æå‡ºç¼–ç æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">r.content    <span class="comment">#å“åº”å†…å®¹çš„äºŒè¿›åˆ¶å½¢å¼</span></span><br><span class="line"></span><br><span class="line">r.raise_for_ataus()  <span class="comment">#å½“çŠ¶æ€ä¸æ˜¯200æ—¶ï¼Œå¼•èµ·HTTPErrorå¼‚å¸¸</span></span><br><span class="line"></span><br><span class="line">r.header   <span class="comment">#</span></span><br></pre></td></tr></table></figure>



<hr>
<p>post()ä¸put()æ–¹æ³•çš„ä½¿ç”¨</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">r = post(url,data=<span class="literal">None</span>,json=<span class="literal">None</span>,**kwargs)</span><br><span class="line">r = put(url,data=<span class="literal">None</span>,**kwargs)</span><br><span class="line"></span><br><span class="line">payload = &#123;<span class="string">&#x27;key1&#x27;</span>:<span class="string">&#x27;value1&#x27;</span>,<span class="string">&#x27;key2&#x27;</span>:<span class="string">&#x27;value2&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">r = requests.post(<span class="string">&#x27;http://httpbin.org/post&#x27;</span>,data = payload)</span><br><span class="line"></span><br><span class="line">r.text</span><br></pre></td></tr></table></figure>



<h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">requests.ConnectionError <span class="comment">#ç½‘ç»œè¿æ¥é”™è¯¯å¼‚å¸¸</span></span><br><span class="line"></span><br><span class="line">requests.HTTPError   <span class="comment">#HTTPé”™è¯¯å¼‚å¸¸</span></span><br><span class="line"></span><br><span class="line">requests.URLRequired  <span class="comment">#URLç¼ºå¤±å¼‚å¸¸</span></span><br><span class="line"></span><br><span class="line">requests.TooManyRedirects  <span class="comment">#è¶…è¿‡æœ€å¤§é‡å®šå‘æ¬¡æ•°ï¼Œäº§ç”Ÿé‡å®šå‘å¼‚å¸¸</span></span><br><span class="line"></span><br><span class="line">requests.ConnectTimeout  <span class="comment">#è¿æ¥è¿œç¨‹æœåŠ¡å™¨è¶…æ—¶å¼‚å¸¸</span></span><br><span class="line"></span><br><span class="line">requests.Timeout  <span class="comment">#è¯·æ±‚URLè¶…æ—¶ï¼Œäº§ç”Ÿè¶…æ—¶å¼‚å¸¸</span></span><br></pre></td></tr></table></figure>

<h2 id="ä»£ç æ¡†æ¶"><a href="#ä»£ç æ¡†æ¶" class="headerlink" title="ä»£ç æ¡†æ¶"></a>ä»£ç æ¡†æ¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="keyword">return</span> r.text</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;äº§ç”Ÿå¼‚å¸¸&quot;</span></span><br></pre></td></tr></table></figure>

<h1 id="æ•°æ®åˆ†æ"><a href="#æ•°æ®åˆ†æ" class="headerlink" title="æ•°æ®åˆ†æ"></a>æ•°æ®åˆ†æ</h1><h2 id="re"><a href="#re" class="headerlink" title="re"></a>re</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text_html = requests.get(url,headers = header).text</span><br><span class="line">r1 = re.findall(<span class="string">&#x27;&lt;img src=&quot;(.*?)&quot;&#x27;</span>,text1,re.S)</span><br></pre></td></tr></table></figure>

<h2 id="bs4"><a href="#bs4" class="headerlink" title="bs4"></a>bs4</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">soup.title</span><br><span class="line"></span><br><span class="line">find()</span><br><span class="line"></span><br><span class="line">find_all()</span><br><span class="line"></span><br><span class="line">select()</span><br></pre></td></tr></table></figure>

<h2 id="xpath"><a href="#xpath" class="headerlink" title="xpath"></a>xpath</h2><p>å®ä¾‹åŒ–</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ¬åœ°htmlæ–‡ä»¶</span></span><br><span class="line">e = etree.parse(filePath)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç½‘ç»œhtml</span></span><br><span class="line">e = etree.HTML(<span class="string">&#x27;page_text&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>e.xpath()åˆ†æ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥æ‰¾æ ‡ç­¾</span></span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;/html/body/div&#x27;</span>)</span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;/html//div&#x27;</span>)</span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;//div&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥æ‰¾idæˆ–classå±æ€§æ ‡ç­¾</span></span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;//div[@id=&quot;top_left_menu&quot;]&#x27;</span>)   <span class="comment"># idå¯æ›´æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ ¹æ®ç´¢å¼•æŸ¥æ‰¾æ ‡ç­¾</span></span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;/html/body/div[2]&#x27;</span>)   <span class="comment">#ä»1å¼€å§‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ ‡ç­¾æ–‡æœ¬</span></span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;//div[@id=&quot;top_right_nav&quot;]//li[3]/a/text()&#x27;</span>)</span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;//div[@id=&quot;top_right_nav&quot;]//li[3]//text()&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹å±æ€§å†…å®¹</span></span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;//div[@id=&quot;top_right_nav&quot;]//li[3]/a/@href&#x27;</span>)   <span class="comment"># hrefå¯æ›´æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥è¯¢å¤šä¸ª</span></span><br><span class="line">r = etree1.xpath(<span class="string">&#x27;/html/body/div[2] | /html//li&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="UAä¼ªè£…"><a href="#UAä¼ªè£…" class="headerlink" title="UAä¼ªè£…"></a>UAä¼ªè£…</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(<span class="string">&quot;https://www.amazon.cn/&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.status_code</span><br><span class="line"><span class="number">503</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.encoding=<span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r.text</span><br><span class="line">æŠ±æ­‰ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³ç¡®è®¤ä¸€ä¸‹å½“å‰è®¿é—®è€…å¹¶éè‡ªåŠ¨ç¨‹åºã€‚ä¸ºäº†è¾¾åˆ°æœ€ä½³æ•ˆæœï¼Œè¯·ç¡®ä¿æ‚¨æµè§ˆå™¨ä¸Šçš„ Cookie å·²å¯ç”¨ã€‚</span><br></pre></td></tr></table></figure>

<p>ä¸è®©ç”¨çˆ¬è™«çˆ¬å–ï¼Œå°±åªèƒ½UAä¼ªè£…äº†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; kv = &#123;<span class="string">&#x27;user-agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0&#x27;</span>&#125;</span><br><span class="line">&gt;&gt; r = requests.get(<span class="string">&quot;http://www.baidu.com&quot;</span>,headers = kv)</span><br><span class="line">&gt;&gt; r.status_code</span><br><span class="line"><span class="number">200</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥è®©ç½‘ç«™è®¤ä¸ºæˆ‘ä»¬ä¸æ˜¯çˆ¬è™«å¼ºç›—ï¼Œè€Œæ˜¯ä¸€ä¸ªæµè§ˆå™¨è‰¯æ°‘</p>
<h1 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h1><p>cookieèƒ½è®°å½•ç™»å½•è´¦æˆ·çš„çŠ¶æ€ï¼Œåœ¨ä¸ä¼ å…¥cookieå€¼çš„æ—¶å€™ï¼Œä¸€èˆ¬ç”¨æˆ·å¤„äºæ— çŠ¶æ€ï¼Œè®¿é—®é¡µé¢ä¸Šä¼šå›åˆ°ç™»å½•ç•Œé¢ï¼Œæ­¤æ—¶å°±è¦è·å–cookieã€‚</p>
<p>cookieå¯ä»¥æ‰‹åŠ¨è·å–,ä¹Ÿå¯ä»¥è‡ªåŠ¨è·å–ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªåŠ¨è·å–</span></span><br><span class="line"><span class="comment"># 1ã€åˆ›å»ºsessionä¼šè®®å¯¹è±¡</span></span><br><span class="line">session = requests.Session()</span><br><span class="line"><span class="comment"># 2ã€è·å–cookie</span></span><br><span class="line">cookie = session.post(url1,headers = header,data = data)</span><br><span class="line"><span class="comment"># 3ã€å‘é€è¯·æ±‚æ—¶ä½¿ç”¨</span></span><br><span class="line">html1 = session.get(url2,headers = header)</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡cookieçˆ¬å–ä¸ªäººä¸»é¡µä¿¡æ¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="comment"># å¤´å’Œæ•°æ®</span></span><br><span class="line">url1 = <span class="string">&#x27;http://www.renren.com/ajaxLogin/login?1=1&amp;uniqueTimestamp=2021241645482&#x27;</span>   <span class="comment"># ä¸æ˜¯ç™»å½•ç½‘å€,æ˜¯postè¯·æ±‚ç½‘å€</span></span><br><span class="line">header = &#123;<span class="string">&#x27;user-agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.190 Safari/537.36&#x27;</span>&#125;</span><br><span class="line">data = &#123;<span class="string">&#x27;email&#x27;</span>: <span class="number">18462112993</span>,</span><br><span class="line">        <span class="string">&#x27;icode&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;origURL&#x27;</span>: <span class="string">&#x27;http://www.renren.com/home&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;domain&#x27;</span>: <span class="string">&#x27;renren.com&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;key_id&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;captcha_type&#x27;</span>: <span class="string">&#x27;web_login&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;3b59a34d3bc0f41c5586bd3e3b877f96d35c36b80aa591a7c16d77aac183c288&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;rkey&#x27;</span>: <span class="string">&#x27;b1634001494bab736ead64191d98a368&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;f&#x27;</span>: <span class="string">&#x27;http%3A%2F%2Fwww.renren.com%2F976410969&#x27;</span>&#125;</span><br><span class="line"><span class="comment"># è·å–cookieå€¼</span></span><br><span class="line">session = requests.Session()   <span class="comment"># åˆ›å»ºsessionä¼šè®®å¯¹è±¡</span></span><br><span class="line">cookie = session.post(url1,headers = header,data = data)   <span class="comment"># ä½¿ç”¨sessionè¿”å›cookieå€¼</span></span><br><span class="line">print(cookie.status_code)</span><br><span class="line"><span class="comment"># çˆ¬å–ä¸»é¡µ</span></span><br><span class="line">url2 = <span class="string">&#x27;http://www.renren.com/976410969/profile&#x27;</span></span><br><span class="line">html1 = session.get(url2,headers = header)   <span class="comment"># å°†sessionæ›¿æ¢requestsç›´æ¥åŒ…å«cookieä¿¡æ¯</span></span><br><span class="line">html2 = html1.content   <span class="comment"># è½¬äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="comment">#å­˜å‚¨</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;./web.html&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(html2)</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>

<h1 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h1><p>é€šè¿‡æ›´æ”¹ipé˜²æ­¢è¢«å°ipçš„åçˆ¬æœºåˆ¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çˆ¬å–çš„ç½‘ç«™å¦‚æœæ˜¯httpsåˆ™ä½¿ç”¨httpsåè®®çš„ä»£ç†æœåŠ¡å™¨,httpç½‘ç«™åˆ™å¯¹åº”httpåè®®çš„ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">html1 = requests.get(url1,headers = header,proxies=&#123;<span class="string">&#x27;http&#x27;</span>:<span class="string">&#x27;120.83.101.39:9999&#x27;</span>&#125;).text</span><br></pre></td></tr></table></figure>



<p>å…è´¹çš„ä»£ç†æœåŠ¡å™¨éƒ½è¿ä¸ä¸Šå“ï¼Œä¸è¿‡ç”¨æ¢¯å­åˆ°ä¹Ÿå¯ä»¥æ”¹å˜ipã€‚</p>
<h1 id="å¼‚æ­¥çˆ¬è™«"><a href="#å¼‚æ­¥çˆ¬è™«" class="headerlink" title="å¼‚æ­¥çˆ¬è™«"></a>å¼‚æ­¥çˆ¬è™«</h1><p>é‡‡ç”¨å¤šçº¿ç¨‹ç¨‹å’Œå¤šè¿›ç¨‹æ¥çˆ¬å–ã€‚</p>
<h1 id="çˆ¬å–æœç´¢ç»“æœ"><a href="#çˆ¬å–æœç´¢ç»“æœ" class="headerlink" title="çˆ¬å–æœç´¢ç»“æœ"></a>çˆ¬å–æœç´¢ç»“æœ</h1><p>å…ˆé™„ä¸Šå…³é”®è¯æ¥å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç™¾åº¦ï¼šhttp:&#x2F;&#x2F;www.baidu.com&#x2F;s?wd&#x3D;keyword</span><br><span class="line">360ï¼šhttp:&#x2F;&#x2F;www.so.com&#x2F;s?q&#x3D;keyword</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥æ˜¯ä»£ç </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> requests</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>kv = &#123;<span class="string">&#x27;wd&#x27;</span>:<span class="string">&#x27;Python&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>r = requests.get(<span class="string">&quot;http://www.baidu.com/s&quot;</span>,params = kv)</span><br></pre></td></tr></table></figure>

<h1 id="å›¾ç‰‡çˆ¬å–"><a href="#å›¾ç‰‡çˆ¬å–" class="headerlink" title="å›¾ç‰‡çˆ¬å–"></a>å›¾ç‰‡çˆ¬å–</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url = <span class="string">&quot;http://img0.dili360.com/pic/2020/07/13/5f0bc0add82ed2q84362951.jpg&quot;</span></span><br><span class="line">path = <span class="string">&quot;D://test.jpg&quot;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    r = requests.get(url)</span><br><span class="line">    <span class="keyword">with</span> open(path,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(r.content)   <span class="comment">#å°†rè½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼</span></span><br><span class="line">        f.close()</span><br><span class="line">        print(<span class="string">&quot;æ–‡ä»¶ä¿å­˜æˆåŠŸ&quot;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    print(<span class="string">&quot;çˆ¬å–å¤±è´¥&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="ä¾‹-æ·˜å®çˆ¬å–"><a href="#ä¾‹-æ·˜å®çˆ¬å–" class="headerlink" title="ä¾‹ æ·˜å®çˆ¬å–"></a>ä¾‹ æ·˜å®çˆ¬å–</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span>(<span class="params">url</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url, timeout=<span class="number">30</span>)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="keyword">return</span> r.text</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">     </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parsePage</span>(<span class="params">ilt, html</span>):</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        plt = re.findall(<span class="string">r&#x27;\&quot;view_price\&quot;\:\&quot;[\d\.]*\&quot;&#x27;</span>,html)</span><br><span class="line">        tlt = re.findall(<span class="string">r&#x27;\&quot;raw_title\&quot;\:\&quot;.*?\&quot;&#x27;</span>,html)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(plt)):</span><br><span class="line">            price = eval(plt[i].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">            title = eval(tlt[i].split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">1</span>])</span><br><span class="line">            ilt.append([price , title])</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(<span class="string">&quot;&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printGoodsList</span>(<span class="params">ilt</span>):</span></span><br><span class="line">    tplt = <span class="string">&quot;&#123;:4&#125;\t&#123;:8&#125;\t&#123;:16&#125;&quot;</span></span><br><span class="line">    print(tplt.format(<span class="string">&quot;åºå·&quot;</span>, <span class="string">&quot;ä»·æ ¼&quot;</span>, <span class="string">&quot;å•†å“åç§°&quot;</span>))</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> g <span class="keyword">in</span> ilt:</span><br><span class="line">        count = count + <span class="number">1</span></span><br><span class="line">        print(tplt.format(count, g[<span class="number">0</span>], g[<span class="number">1</span>]))</span><br><span class="line">         </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    goods = <span class="string">&#x27;ä¹¦åŒ…&#x27;</span></span><br><span class="line">    u=<span class="string">&#x27;https://s.taobao.com/search?q=&#x27;</span></span><br><span class="line">    depth = <span class="number">3</span></span><br><span class="line">    start_url = <span class="string">&#x27;https://s.taobao.com/search?q=&#x27;</span> + goods</span><br><span class="line">    infoList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(depth):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="comment">#url = start_url + &#x27;&amp;s=&#x27; + str(44*i)</span></span><br><span class="line">            html = getHTMLText(u)</span><br><span class="line">            print(html)</span><br><span class="line">            parsePage(infoList, html)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">    printGoodsList(infoList)</span><br><span class="line">     </span><br><span class="line">main()</span><br></pre></td></tr></table></figure>


            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                        
                            <li title='1' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='false'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >æŸ¥çœ‹è¯„è®º</div>


    </div>
    
        <div class='side'>
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Robots%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.</span> <span class="toc-text">Robotsåè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%B9%E5%BC%8F"><span class="toc-number">1.1.</span> <span class="toc-text">æŸ¥çœ‹æ–¹å¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#requests%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">requestsçš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%88%E6%9D%A5%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90%E7%9C%8B%E4%B8%80%E4%B8%8B%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">2.1.</span> <span class="toc-text">å…ˆæ¥ä¸€ä¸ªä¾‹å­çœ‹ä¸€ä¸‹ä½¿ç”¨è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.</span> <span class="toc-text">æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">2.3.</span> <span class="toc-text">å¼‚å¸¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A1%86%E6%9E%B6"><span class="toc-number">2.4.</span> <span class="toc-text">ä»£ç æ¡†æ¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">æ•°æ®åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#re"><span class="toc-number">3.1.</span> <span class="toc-text">re</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bs4"><span class="toc-number">3.2.</span> <span class="toc-text">bs4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#xpath"><span class="toc-number">3.3.</span> <span class="toc-text">xpath</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#UA%E4%BC%AA%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text">UAä¼ªè£…</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cookie"><span class="toc-number">5.</span> <span class="toc-text">cookie</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%A3%E7%90%86"><span class="toc-number">6.</span> <span class="toc-text">ä»£ç†</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E7%88%AC%E8%99%AB"><span class="toc-number">7.</span> <span class="toc-text">å¼‚æ­¥çˆ¬è™«</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%88%AC%E5%8F%96%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C"><span class="toc-number">8.</span> <span class="toc-text">çˆ¬å–æœç´¢ç»“æœ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E7%88%AC%E5%8F%96"><span class="toc-number">9.</span> <span class="toc-text">å›¾ç‰‡çˆ¬å–</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BE%8B-%E6%B7%98%E5%AE%9D%E7%88%AC%E5%8F%96"><span class="toc-number">10.</span> <span class="toc-text">ä¾‹ æ·˜å®çˆ¬å–</span></a></li></ol>	
        </div>
    
</div>


    </div>
</div>
</body>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
